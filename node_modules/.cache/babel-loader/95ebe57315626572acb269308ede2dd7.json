{"ast":null,"code":"var _jsxFileName = \"D:\\\\materiallibrary\\\\src\\\\utility\\\\index.js\";\nimport \"react-s-alert/dist/s-alert-default.css\";\nimport { history } from \"../managers/history\";\nimport swal from \"sweetalert\";\nimport Cookies from \"universal-cookie\";\nimport React from \"react\";\nimport ToastService from 'react-material-toast';\nimport aws from \"aws-sdk\";\nconst toast = ToastService.new({\n  place: 'topRight',\n  duration: 1,\n  maxCount: 2\n});\n\nlet moment = require('moment');\n\nconst cookies = new Cookies();\nconst utility = {\n  getHeader,\n  apiFailureToast,\n  apiSuccessToast,\n  getAddedByObject,\n  getCompanyObject,\n  generateGUID,\n  basicAlert,\n  getActivityDateEpochRange,\n  getMiniAwardNominationModel,\n  getAddress,\n  decodeBase64,\n  validationAlert,\n  isNumber,\n  trackEvent,\n  navigateToPath,\n  toggleDropDown,\n  validateName,\n  validateEmail,\n  isEmpty,\n  isMenuActive,\n  isPasswordValid,\n  getSignedUrl,\n  uploadFileToS3,\n  showUnderDevelopment,\n  epochToDate,\n  getDateAfterOneYear,\n  generateCompanyLogoKey,\n  dateCompare,\n  isCompanyBalanceLow,\n  getMiniUserModel,\n  getMiniRecognitionUserModel,\n  getTimeFromNow,\n  epocToPrettyTime,\n  epocToPrettyTimeForFuture,\n  getLeaderBoardAggregatedQuery,\n  getTopSenderAggregatedQuery,\n  getTimeDifference,\n  getYearsList,\n  getTimestampFromDate,\n  extractDate,\n  secondsToTime,\n  getDateFormat,\n  changeDateFormat,\n  getAggregatedPercWercQueryObject\n};\nexport default utility;\nexport const dispatchAction = (type, data) => {\n  return dispatch => dispatch({\n    type,\n    data\n  });\n};\n\nfunction trackEvent(event, eventData) {// try {\n  //     if (!eventData)\n  //         mixpanel.track(event);\n  //     else\n  //         mixpanel.track(event, eventData);\n  // } catch (err) {\n  //     console.log(err)\n  // }\n}\n\nfunction getDateFormat() {\n  var my_date = new Date(2019, 0, 31);\n  console.log(my_date.toLocaleDateString()); // Initialize variables\n\n  var separator = \"\";\n  var first = \"\";\n  var second = \"\";\n  var third = \"\";\n  var date_parts = []; // get separator : \"-\", \"/\" or \" \", format based on toLocaleDateString function\n\n  if (my_date.toLocaleDateString().split(\"-\").length == 3) {\n    separator = \" - \";\n    date_parts = my_date.toLocaleDateString().split(\"-\");\n  }\n\n  if (my_date.toLocaleDateString().split(\"/\").length == 3) {\n    separator = \" / \";\n    date_parts = my_date.toLocaleDateString().split(\"/\");\n  }\n\n  if (my_date.toLocaleDateString().split(\" \").length == 3) {\n    separator = \" \";\n    date_parts = my_date.toLocaleDateString().split(\" \");\n  } // get first part\n\n\n  if (date_parts[0] == 2019) {\n    first = \"YYYY\";\n  } else if (date_parts[0] == 31) {\n    first = \"DD\";\n  } else {\n    if (date_parts[0].length <= 2) {\n      first = \"MM\";\n    } else {\n      first = \"MMM\";\n    }\n  } // get second part\n\n\n  if (date_parts[1] == 2019) {\n    second = \"YYYY\";\n  } else if (date_parts[1] == 31) {\n    second = \"DD\";\n  } else {\n    if (date_parts[1].length <= 2) {\n      second = \"MM\";\n    } else {\n      second = \"MMM\";\n    }\n  } // get third part\n\n\n  if (date_parts[2] == 2019) {\n    third = \"YYYY\";\n  } else if (date_parts[2] == 31) {\n    third = \"DD\";\n  } else {\n    if (date_parts[2].length <= 2) {\n      third = \"MM\";\n    } else {\n      third = \"MMM\";\n    }\n  } // assembly\n\n\n  var format = first + \"/\" + second + \"/\" + third;\n  return format;\n}\n\nfunction getHeader() {// return {\n  //     'session-token': sessionManager.getDataFromCookies(genericConstants.COOKIES_KEY.SESSION_TOKEN),\n  //     'device-id': sessionManager.getDataFromCookies(genericConstants.COOKIES_KEY.DEVICE_ID),\n  //     'Content-Type': httpConstants.CONTENT_TYPE.APPLICATION_JSON\n  // };\n}\n\nfunction isNumber(n) {\n  return !isNaN(parseFloat(n)) && isFinite(n);\n} //TODO: update apiConstant.API_FAILURE\n\n\nfunction apiFailureToast(message) {\n  toast.error(message ? message : \"apiConstant.API_FAILURE\");\n}\n\nfunction apiSuccessToast(msg) {\n  toast.success(msg ? msg : \"apiConstant.API_SUCCESS\");\n}\n\nfunction generateGUID() {\n  var nav = window.navigator;\n  var screen = window.screen;\n  var guid = nav.mimeTypes.length;\n  guid += nav.userAgent.replace(/\\D+/g, '');\n  guid += nav.plugins.length;\n  guid += screen.height || '';\n  guid += screen.width || '';\n  guid += screen.pixelDepth || '';\n  return guid;\n}\n\nfunction basicAlert(message) {\n  swal({\n    title: message,\n    icon: '/images/alert-icon.png'\n  });\n}\n\nfunction validationAlert(message, type = 'info') {\n  swal({\n    title: message,\n    icon: type\n  });\n}\n\nfunction getTimeDifference(timeStampTo) {\n  let minFive = 300000;\n  let oneDay = 86400000;\n  let difference = \"\";\n  let am = \" AM\";\n  let pm = \" PM\";\n  let hh = epochToDate(timeStampTo, 'hh');\n  let mm = epochToDate(timeStampTo, 'mm');\n  let dateFormat = epochToDate(timeStampTo, 'DD MMM YYYY');\n  let hours = new Date(timeStampTo).getHours();\n  let timeDifference = new Date().getTime() - timeStampTo;\n\n  if (timeDifference < oneDay) {\n    if (timeDifference < minFive) {\n      difference = \"Just Now\";\n    } else {\n      if (hours < 12) difference = \"Today at \" + hh + \":\" + mm + am;else difference = \"Today at \" + hh + \":\" + mm + pm;\n    }\n  } else {\n    if (hours < 12) difference = dateFormat + \", \" + hh + ':' + mm + am;else difference = dateFormat + \", \" + hh + ':' + mm + pm;\n  }\n\n  return difference;\n}\n\nfunction epochToDate(timeStamp, timeFormat) {\n  timeStamp = Math.floor(timeStamp); //to convert to integer if seconds is String.\n\n  let dateObject = new Date(timeStamp);\n  return moment(dateObject).format(timeFormat); //DD MMM YYYY\n}\n\nfunction getTimeFromNow(timeStamp) {\n  return moment(timeStamp, \"YYYYMMDD\").fromNow();\n}\n\nfunction dateCompare(timeStampFrom, timeStampTo) {\n  let diffTime = timeStampFrom * 1000 - timeStampTo;\n  let diffDays = diffTime / (1000 * 60 * 60 * 24);\n  return diffDays;\n}\n\nfunction getDateAfterOneYear(timeStamp) {\n  timeStamp = Math.floor(timeStamp); //to convert to integer if seconds is String.\n\n  let dateObject = new Date(timeStamp);\n  return moment(dateObject).add(1, 'years').valueOf();\n}\n\nfunction getActivityDateEpochRange(activityDate) {\n  let currentDate = new Date();\n  currentDate.setHours(0, 0, 0, 0);\n  let startDayEpochOfCurrentWeek = moment().startOf('isoweek').unix() * 1000;\n  let startDayEpochOfCurrentMonth = moment().startOf('month').unix() * 1000;\n  let startDayEpochOfCurrentQuarter = moment().startOf('quarter').unix() * 1000;\n  let startDayEpochOfCurrentYear = moment().startOf('year').unix() * 1000;\n  let endDayEpochOfCurrentWeek = moment().endOf('isoweek').unix() * 1000;\n  let endDayEpochOfCurrentMonth = moment().endOf('month').unix() * 1000;\n  let endDayEpochOfCurrentQuarter = moment().endOf('quarter').unix() * 1000;\n  let endDayEpochOfCurrentYear = moment().endOf('year').unix() * 1000;\n  let day, start;\n\n  switch (activityDate) {\n    case \"Today\":\n      return {\n        start: currentDate.getTime(),\n        end: new Date().getTime()\n      };\n\n    case \"Yesterday\":\n      day = new Date(currentDate);\n      day.setDate(currentDate.getDate() - 1);\n      return {\n        start: day.getTime(),\n        end: currentDate.getTime()\n      };\n\n    case \"Last seven days\":\n      day = new Date(currentDate);\n      day.setDate(currentDate.getDate() - 7);\n      return {\n        start: day.getTime(),\n        end: currentDate.getTime()\n      };\n\n    case \"Last fourteen days\":\n      day = new Date(currentDate);\n      day.setDate(currentDate.getDate() - 14);\n      return {\n        start: day.getTime(),\n        end: currentDate.getTime()\n      };\n\n    case \"Last twenty one days\":\n      day = new Date(currentDate);\n      day.setDate(currentDate.getDate() - 21);\n      return {\n        start: day.getTime(),\n        end: currentDate.getTime()\n      };\n\n    case \"Last Week\":\n      start = new Date(startDayEpochOfCurrentWeek);\n      start.setDate(start.getDate() - 7);\n      return {\n        start: start.getTime(),\n        end: startDayEpochOfCurrentWeek\n      };\n\n    case \"Last two weeks\":\n      start = new Date(startDayEpochOfCurrentWeek);\n      start.setDate(start.getDate() - 14);\n      return {\n        start: start.getTime(),\n        end: startDayEpochOfCurrentWeek\n      };\n\n    case \"Last three weeks\":\n      start = new Date(startDayEpochOfCurrentWeek);\n      start.setDate(start.getDate() - 21);\n      return {\n        start: start.getTime(),\n        end: startDayEpochOfCurrentWeek\n      };\n\n    case \"Last Month\":\n      start = new Date(startDayEpochOfCurrentMonth);\n      start.setMonth(start.getMonth() - 1);\n      return {\n        start: start.getTime(),\n        end: startDayEpochOfCurrentMonth\n      };\n\n    case \"Last Quarter\":\n      start = new Date(startDayEpochOfCurrentQuarter);\n      start.setMonth(start.getMonth() - 3);\n      return {\n        start: start.getTime(),\n        end: startDayEpochOfCurrentQuarter\n      };\n\n    case \"Last Year\":\n      console.log(startDayEpochOfCurrentYear);\n      start = new Date(startDayEpochOfCurrentYear);\n      start.setFullYear(start.getFullYear() - 1);\n      return {\n        start: start.getTime(),\n        end: startDayEpochOfCurrentYear\n      };\n\n    case \"This Week\":\n      return {\n        start: startDayEpochOfCurrentWeek,\n        end: endDayEpochOfCurrentWeek\n      };\n\n    case \"This Quarter\":\n      return {\n        start: startDayEpochOfCurrentQuarter,\n        end: endDayEpochOfCurrentQuarter\n      };\n\n    case \"This Year\":\n      return {\n        start: startDayEpochOfCurrentYear,\n        end: endDayEpochOfCurrentYear\n      };\n\n    case \"Current Month\":\n      return {\n        start: startDayEpochOfCurrentMonth,\n        end: endDayEpochOfCurrentMonth\n      };\n\n    default:\n      return {\n        start: currentDate.getTime(),\n        end: new Date().getTime()\n      };\n  }\n}\n\nfunction getAddress(addressObj) {\n  if (!addressObj || !Object.keys(addressObj).length || !(addressObj.addressLine1 || addressObj.poBoxNumber)) return \"\";\n  return React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321\n    },\n    __self: this\n  }, addressObj.addressLine1 ? addressObj.addressLine1 : \"PO Box \".concat(addressObj.poBoxNumber), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322\n    },\n    __self: this\n  }), addressObj.addressLine2 ? React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323\n    },\n    __self: this\n  }, addressObj.addressLine2, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323\n    },\n    __self: this\n  })) : '', addressObj.city, \", \", addressObj.state, \" \", addressObj.zipCode, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324\n    },\n    __self: this\n  }), addressObj.country);\n}\n\nfunction decodeBase64(s) {\n  let e = {},\n      i,\n      b = 0,\n      c,\n      x,\n      l = 0,\n      a,\n      r = '',\n      w = String.fromCharCode,\n      L = s.length;\n  let A = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n\n  for (i = 0; i < 64; i++) {\n    e[A.charAt(i)] = i;\n  }\n\n  for (x = 0; x < L; x++) {\n    c = e[s.charAt(x)];\n    b = (b << 6) + c;\n    l += 6;\n\n    while (l >= 8) {\n      ((a = b >>> (l -= 8) & 0xff) || x < L - 2) && (r += w(a));\n    }\n  }\n\n  return r;\n}\n\nfunction navigateToPath(path) {\n  history.push(path);\n}\n\nfunction toggleDropDown(dropdownID) {// $(\"#\" + dropdownID).toggle(\"show\");\n}\n\nfunction validateName(name) {\n  let reg = /[A-Z][a-zA-Z]*/;\n  return reg.test(name);\n}\n\nfunction validateEmail(email) {\n  let reg = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return reg.test(email);\n}\n\nfunction isPasswordValid(password) {\n  let reg = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/;\n  return reg.test(password);\n}\n\nfunction isEmpty(string) {\n  return !string || string.trim().length === 0;\n}\n\nfunction isMenuActive(path) {\n  return window.location.pathname.includes(path);\n}\n\nfunction getAddedByObject(propsOfComponent) {\n  if (!propsOfComponent || !propsOfComponent.user || !propsOfComponent.user.userDetails) return null;\n  let user = propsOfComponent.user.userDetails;\n  return {\n    privateKey: user.privateKey,\n    publicKey: user.publicKey,\n    email: user.email,\n    wercPlaceID: user.wercPlaceID,\n    photo: user.photo ? user.photo : '',\n    designation: user.designation ? user.designation : {},\n    department: user.department ? user.department : {},\n    name: user.firstName || user.lastName ? user.firstName + \" \" + user.lastName : user.company && user.company.name ? user.company.name : \"\",\n    _id: user._id\n  };\n}\n\nfunction getMiniUserModel(user) {\n  if (!user) return null;\n  return {\n    privateKey: user.privateKey,\n    publicKey: user.publicKey,\n    photo: user.photo ? user.photo : '',\n    email: user.email,\n    wercPlaceID: user.wercPlaceID,\n    designation: user.designation ? user.designation : {},\n    department: user.department ? user.department : {},\n    name: user.firstName || user.lastName ? user.firstName + \" \" + user.lastName : user.company.name,\n    _id: user._id\n  };\n}\n\nfunction getMiniRecognitionUserModel(recognizeUser) {\n  if (!recognizeUser) return null;\n  return {\n    name: recognizeUser.name,\n    clapWeight: recognizeUser.clapWeight,\n    _id: recognizeUser._id\n  };\n}\n\nfunction getMiniAwardNominationModel(nomination) {\n  if (!nomination) return null;\n  return {\n    name: nomination.name,\n    photo: nomination.photo,\n    _id: nomination._id\n  };\n}\n\nfunction generateRandomAlphaNumericString(length) {\n  var randomAlphaNumericString = \"\";\n  var charset = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\";\n\n  for (var i = 0; i < length; i++) randomAlphaNumericString += charset.charAt(Math.floor(Math.random() * charset.length));\n\n  return randomAlphaNumericString;\n}\n\nfunction generateCompanyLogoKey() {\n  var currentTimeStamp = new Date().getTime().toString();\n  return currentTimeStamp + \"_\" + generateRandomAlphaNumericString(13);\n}\n\nfunction uploadFileToS3(fileObject, fileName, mimeType, isPublic = false) {\n  let config = {\n    accessKeyId: process.env.REACT_APP_AWS_ACCESS_KEY,\n    secretAccessKey: process.env.REACT_APP_AWS_SECRET_KEY\n  };\n  aws.config.update(config);\n  console.log(\"config\", config);\n  console.log(\"fileObject\", fileObject);\n  const S3 = new aws.S3();\n  const params = {\n    Body: fileObject,\n    Bucket: process.env.REACT_APP_AWS_S3_BUCKET_NAME,\n    ContentType: mimeType,\n    Key: fileName\n  };\n  if (isPublic) params.ACL = 'public-read';\n  return new Promise(function (resolve, reject) {\n    S3.upload(params, function (err, uploadData) {\n      if (err) reject(err);\n      resolve(uploadData);\n    });\n  });\n}\n\nfunction getSignedUrl(fileName) {\n  if (!fileName) return \"\";\n  aws.config.update({\n    accessKeyId: process.env.REACT_APP_AWS_ACCESS_KEY,\n    secretAccessKey: process.env.REACT_APP_AWS_SECRET_KEY\n  });\n  aws.config.region = process.env.REACT_APP_AWS_S3_BUCKET_REGION;\n  const s3 = new aws.S3();\n  const params = {\n    Bucket: process.env.REACT_APP_AWS_S3_BUCKET_NAME,\n    Key: fileName ? fileName : '',\n    Expires: 600000\n  };\n  let signedUrl = s3.getSignedUrl('getObject', params);\n  return signedUrl;\n}\n\nfunction showUnderDevelopment() {\n  basicAlert(\"Under Development\");\n}\n\nfunction getCompanyObject(propsOfComponent) {\n  if (!propsOfComponent || !propsOfComponent.user || !propsOfComponent.user.userDetails || !propsOfComponent.user.userDetails.company) return null;\n  return propsOfComponent.user.userDetails.company;\n}\n\nfunction isCompanyBalanceLow(company) {\n  if (!company || !company.tokenEconomy || !company.tokenEconomy) {\n    console.log('return false');\n    return false;\n  }\n\n  let remainingMonth = new Date(company.tokenEconomy.endDate).getMonth() - new Date().getMonth() + 12 * (new Date(company.tokenEconomy.endDate).getFullYear() - new Date().getFullYear());\n  if (company.tokenEconomy.PERCBalance < company.tokenEconomy.monthlyPERCAllocation * remainingMonth) return true;\n  return false;\n}\n\nfunction getYearsList(addedOn = new Date().getTime()) {\n  let durationList = [];\n\n  for (let i = new Date(addedOn).getFullYear(); i <= new Date().getFullYear(); i++) {\n    durationList.push(i);\n  }\n\n  return durationList;\n}\n\nfunction epocToPrettyTime(seconds) {\n  seconds = Math.floor(seconds); //to convert to integer if seconds is String.\n\n  var nowTimeMilliseconds = new Date().getTime();\n  var date = new Date(seconds);\n  var dateObject = moment(date).format('DD MMMM YYYY'); //var dateObject = moment(date).format('ddd, MMM DD hh:mm A');\n\n  seconds = Math.floor(nowTimeMilliseconds / 1000 - seconds / 1000);\n  var interval = Math.floor(seconds / 172800);\n  if (interval >= 1) return dateObject; //if (interval >= 1) return dateObject+\" \"+moment.tz(moment.tz.guess()).format('z');\n\n  interval = Math.floor(seconds / 86400);\n  if (interval >= 1) return \"yesterday\";\n  interval = Math.floor(seconds / 3600);\n\n  if (interval >= 1) {\n    if (interval === 1) return interval + \" hr ago\";\n    return interval + \" hrs ago\";\n  }\n\n  interval = Math.floor(seconds / 60);\n\n  if (interval >= 1) {\n    if (interval === 1) return interval + \" minute ago\";\n    return interval + \" minutes ago\";\n  } else return \"Just now\";\n}\n\nfunction epocToPrettyTimeForFuture(seconds) {\n  seconds = Math.floor(seconds); //to convert to integer if seconds is String.\n\n  var nowTimeMilliseconds = new Date().getTime();\n  var date = new Date(seconds);\n  var dateObject = moment(date).format('DD MMMM YYYY'); //var dateObject = moment(date).format('ddd, MMM DD hh:mm A');\n\n  seconds = Math.floor(seconds / 1000 - nowTimeMilliseconds / 1000);\n  var interval = Math.floor(seconds / 86400);\n  if (interval >= 1) return interval + ' days';\n  interval = Math.floor(seconds / 3600);\n\n  if (interval >= 1) {\n    if (interval == 1) return interval + \" hr\";\n    return interval + \" hrs\";\n  }\n\n  interval = Math.floor(seconds / 60);\n\n  if (interval >= 1) {\n    if (interval == 1) return interval + \" minute\";\n    return interval + \" minutes\";\n  } else return \"0 minute\";\n}\n\nfunction getLeaderBoardAggregatedQuery(propsOfComponent, skip = 0, limit = 0, matchObj = {}) {\n  if (!propsOfComponent || !propsOfComponent.user || !propsOfComponent.user.userDetails || !propsOfComponent.user.userDetails.company) return null;\n  let queryObj = []; //Match Object for the conditions-\n\n  let feedType = [];\n  feedType.push({\n    'entityData.feedType': 'ADD_RECOGNITION'\n  });\n  feedType.push({\n    'entityData.feedType': 'ADD_NOMINATION'\n  });\n  matchObj['$or'] = feedType;\n  matchObj['entityData.company.id'] = propsOfComponent.user.userDetails.company.id; //addField Object for the conditions-\n\n  let addFieldObj = {\n    'recipient': {\n      '$arrayToObject': {\n        '$map': {\n          'input': '$entityData.recipients',\n          'as': 'recipients',\n          'in': {\n            'k': 'userDetails',\n            'v': '$$recipients'\n          }\n        }\n      }\n    }\n  }; //Group object for grouping-\n\n  let groupObj = {};\n  groupObj._id = \"$entityData.recipients._id\";\n  groupObj.PERCBalance = {\n    \"$sum\": \"$entityData.PERCValue\"\n  };\n  groupObj.firstName = {\n    \"$first\": \"$entityData.recipients.name\"\n  };\n  queryObj.push({\n    \"$match\": matchObj\n  }); // queryObj.push({\"$addFields\": addFieldObj});\n\n  queryObj.push({\n    \"$group\": groupObj\n  });\n  queryObj.push({\n    \"$sort\": {\n      'PERCBalance': -1\n    }\n  });\n  queryObj.push({\n    \"$limit\": limit\n  });\n  queryObj.push({\n    \"$skip\": skip\n  });\n  return queryObj;\n}\n\nfunction getTopSenderAggregatedQuery(propsOfComponent, skip = 0, limit = 0, matchObj = {}) {\n  if (!propsOfComponent || !propsOfComponent.user || !propsOfComponent.user.userDetails || !propsOfComponent.user.userDetails.company) return null;\n  let queryObj = []; //Match Object for the conditions-\n\n  let feedType = [];\n  feedType.push({\n    'entityData.feedType': 'ADD_RECOGNITION'\n  });\n  feedType.push({\n    'entityData.feedType': 'ADD_NOMINATION'\n  });\n  matchObj['$or'] = feedType;\n  matchObj['entityData.company.id'] = propsOfComponent.user.userDetails.company.id; //Group object for grouping-\n\n  let groupObj = {};\n  groupObj._id = \"$entityData.addedBy.email\";\n  groupObj.PERCBalance = {\n    \"$sum\": \"$entityData.PERCValue\"\n  };\n  groupObj.firstName = {\n    \"$first\": \"$entityData.addedBy.name\"\n  }; //Group object for grouping-\n\n  let sortObj = {};\n  sortObj._id = \"$recipient.userDetails.email\";\n  queryObj.push({\n    \"$match\": matchObj\n  });\n  queryObj.push({\n    \"$group\": groupObj\n  }); // queryObj.push({\"$sort\": {'PERCBalance':-1}});\n\n  queryObj.push({\n    \"$limit\": limit\n  });\n  queryObj.push({\n    \"$skip\": skip\n  });\n  queryObj.push({\n    \"$sort\": {\n      'PERCBalance': -1\n    }\n  });\n  return queryObj;\n}\n\nfunction secondsToTime(milliseconds) {\n  let date = new Date(milliseconds);\n  var duration = moment.duration(milliseconds, 'milliseconds');\n  return duration.hours() + \":\" + duration.minutes() + \":\" + duration.seconds();\n  let dateObject = moment(date, 'hh:mm:ss').fromNow();\n  return dateObject; // let hours = Math.floor(secs / (60 * 60));\n  //\n  // let divisor_for_minutes = secs % (60 * 60);\n  // let minutes = Math.floor(divisor_for_minutes / 60);\n  //\n  // let divisor_for_seconds = divisor_for_minutes % 60;\n  // let seconds = Math.ceil(divisor_for_seconds);\n  //\n  // let obj = {\n  //     \"h\": hours,\n  //     \"m\": minutes,\n  //     \"s\": seconds\n  // };\n  // return obj;\n}\n\nfunction getTimestampFromDate(year, month, date = 0) {\n  let days = new Date(year, month, date).getDate();\n  return new Date(year + \"/\" + month + \"/\" + days).getTime();\n}\n\nfunction extractDate(date, getType) {\n  console.log(\"date\", typeof date, \"getType\", getType);\n\n  switch (getType) {\n    case \"DAY\":\n      return new Date(date.toString()).getDate();\n      break;\n\n    case \"MONTH\":\n      return new Date(date.toString()).getMonth() + 1;\n      break;\n\n    case \"YEAR\":\n      return new Date(date.toString()).getFullYear();\n      break;\n\n    default:\n      return date;\n  }\n}\n\nfunction changeDateFormat(date, newFormat) {\n  let currentFormat = getDateFormat();\n  return moment(date, currentFormat).format(newFormat);\n}\n\nfunction getAggregatedPercWercQueryObject(start, end, skip, id) {\n  console.log(start, end, skip, id);\n  return [{\n    \"$match\": {\n      \"$and\": [{\n        \"date\": {\n          \"$gte\": start.toString()\n        }\n      }, {\n        \"date\": {\n          \"$lte\": end.toString()\n        }\n      }],\n      \"companyId\": id.toString()\n    }\n  }, {\n    \"$skip\": skip\n  }];\n}","map":{"version":3,"sources":["D:\\materiallibrary\\src\\utility\\index.js"],"names":["history","swal","Cookies","React","ToastService","aws","toast","new","place","duration","maxCount","moment","require","cookies","utility","getHeader","apiFailureToast","apiSuccessToast","getAddedByObject","getCompanyObject","generateGUID","basicAlert","getActivityDateEpochRange","getMiniAwardNominationModel","getAddress","decodeBase64","validationAlert","isNumber","trackEvent","navigateToPath","toggleDropDown","validateName","validateEmail","isEmpty","isMenuActive","isPasswordValid","getSignedUrl","uploadFileToS3","showUnderDevelopment","epochToDate","getDateAfterOneYear","generateCompanyLogoKey","dateCompare","isCompanyBalanceLow","getMiniUserModel","getMiniRecognitionUserModel","getTimeFromNow","epocToPrettyTime","epocToPrettyTimeForFuture","getLeaderBoardAggregatedQuery","getTopSenderAggregatedQuery","getTimeDifference","getYearsList","getTimestampFromDate","extractDate","secondsToTime","getDateFormat","changeDateFormat","getAggregatedPercWercQueryObject","dispatchAction","type","data","dispatch","event","eventData","my_date","Date","console","log","toLocaleDateString","separator","first","second","third","date_parts","split","length","format","n","isNaN","parseFloat","isFinite","message","error","msg","success","nav","window","navigator","screen","guid","mimeTypes","userAgent","replace","plugins","height","width","pixelDepth","title","icon","timeStampTo","minFive","oneDay","difference","am","pm","hh","mm","dateFormat","hours","getHours","timeDifference","getTime","timeStamp","timeFormat","Math","floor","dateObject","fromNow","timeStampFrom","diffTime","diffDays","add","valueOf","activityDate","currentDate","setHours","startDayEpochOfCurrentWeek","startOf","unix","startDayEpochOfCurrentMonth","startDayEpochOfCurrentQuarter","startDayEpochOfCurrentYear","endDayEpochOfCurrentWeek","endOf","endDayEpochOfCurrentMonth","endDayEpochOfCurrentQuarter","endDayEpochOfCurrentYear","day","start","end","setDate","getDate","setMonth","getMonth","setFullYear","getFullYear","addressObj","Object","keys","addressLine1","poBoxNumber","addressLine2","city","state","zipCode","country","s","e","i","b","c","x","l","a","r","w","String","fromCharCode","L","A","charAt","path","push","dropdownID","name","reg","test","email","password","string","trim","location","pathname","includes","propsOfComponent","user","userDetails","privateKey","publicKey","wercPlaceID","photo","designation","department","firstName","lastName","company","_id","recognizeUser","clapWeight","nomination","generateRandomAlphaNumericString","randomAlphaNumericString","charset","random","currentTimeStamp","toString","fileObject","fileName","mimeType","isPublic","config","accessKeyId","process","env","REACT_APP_AWS_ACCESS_KEY","secretAccessKey","REACT_APP_AWS_SECRET_KEY","update","S3","params","Body","Bucket","REACT_APP_AWS_S3_BUCKET_NAME","ContentType","Key","ACL","Promise","resolve","reject","upload","err","uploadData","region","REACT_APP_AWS_S3_BUCKET_REGION","s3","Expires","signedUrl","tokenEconomy","remainingMonth","endDate","PERCBalance","monthlyPERCAllocation","addedOn","durationList","seconds","nowTimeMilliseconds","date","interval","skip","limit","matchObj","queryObj","feedType","id","addFieldObj","groupObj","sortObj","milliseconds","minutes","year","month","days","getType","newFormat","currentFormat"],"mappings":"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","sourcesContent":["import \"react-s-alert/dist/s-alert-default.css\";\r\nimport {history} from \"../managers/history\";\r\nimport swal from \"sweetalert\";\r\nimport Cookies from \"universal-cookie\";\r\nimport React from \"react\";\r\nimport ToastService from 'react-material-toast';\r\nimport aws from \"aws-sdk\";\r\n\r\nconst toast = ToastService.new({\r\n    place: 'topRight',\r\n    duration: 1,\r\n    maxCount: 2\r\n});\r\nlet moment = require('moment');\r\nconst cookies = new Cookies();\r\nconst utility = {\r\n    getHeader,\r\n    apiFailureToast,\r\n    apiSuccessToast,\r\n    getAddedByObject,\r\n    getCompanyObject,\r\n    generateGUID,\r\n    basicAlert,\r\n    getActivityDateEpochRange,\r\n    getMiniAwardNominationModel,\r\n    getAddress,\r\n    decodeBase64,\r\n    validationAlert,\r\n    isNumber,\r\n    trackEvent,\r\n    navigateToPath,\r\n    toggleDropDown,\r\n    validateName,\r\n    validateEmail,\r\n    isEmpty,\r\n    isMenuActive,\r\n    isPasswordValid,\r\n    getSignedUrl,\r\n    uploadFileToS3,\r\n    showUnderDevelopment,\r\n    epochToDate,\r\n    getDateAfterOneYear,\r\n    generateCompanyLogoKey,\r\n    dateCompare,\r\n    isCompanyBalanceLow,\r\n    getMiniUserModel,\r\n    getMiniRecognitionUserModel,\r\n    getTimeFromNow,\r\n    epocToPrettyTime,\r\n    epocToPrettyTimeForFuture,\r\n    getLeaderBoardAggregatedQuery,\r\n    getTopSenderAggregatedQuery,\r\n    getTimeDifference,\r\n    getYearsList,\r\n    getTimestampFromDate,\r\n    extractDate,\r\n    secondsToTime,\r\n    getDateFormat,\r\n    changeDateFormat,\r\n    getAggregatedPercWercQueryObject\r\n};\r\nexport default utility;\r\n\r\n\r\nexport const dispatchAction = (type, data) => {\r\n    return dispatch => dispatch({type, data});\r\n};\r\n\r\nfunction trackEvent(event, eventData) {\r\n    // try {\r\n    //     if (!eventData)\r\n    //         mixpanel.track(event);\r\n    //     else\r\n    //         mixpanel.track(event, eventData);\r\n    // } catch (err) {\r\n    //     console.log(err)\r\n    // }\r\n}\r\n\r\nfunction getDateFormat() {\r\n    var my_date = new Date(2019, 0, 31);\r\n    console.log(my_date.toLocaleDateString());\r\n    // Initialize variables\r\n    var separator = \"\";\r\n    var first = \"\";\r\n    var second = \"\";\r\n    var third = \"\";\r\n    var date_parts = [];\r\n\r\n    // get separator : \"-\", \"/\" or \" \", format based on toLocaleDateString function\r\n    if (my_date.toLocaleDateString().split(\"-\").length == 3) {\r\n        separator = \" - \";\r\n        date_parts = my_date.toLocaleDateString().split(\"-\");\r\n    }\r\n    if (my_date.toLocaleDateString().split(\"/\").length == 3) {\r\n        separator = \" / \";\r\n        date_parts = my_date.toLocaleDateString().split(\"/\");\r\n    }\r\n    if (my_date.toLocaleDateString().split(\" \").length == 3) {\r\n        separator = \" \";\r\n        date_parts = my_date.toLocaleDateString().split(\" \");\r\n    }\r\n\r\n    // get first part\r\n    if (date_parts[0] == 2019) {\r\n        first = \"YYYY\";\r\n    } else if (date_parts[0] == 31) {\r\n        first = \"DD\";\r\n    } else {\r\n        if (date_parts[0].length <= 2) {\r\n            first = \"MM\";\r\n        } else {\r\n            first = \"MMM\";\r\n        }\r\n    }\r\n\r\n    // get second part\r\n    if (date_parts[1] == 2019) {\r\n        second = \"YYYY\";\r\n    } else if (date_parts[1] == 31) {\r\n        second = \"DD\";\r\n    } else {\r\n        if (date_parts[1].length <= 2) {\r\n            second = \"MM\";\r\n        } else {\r\n            second = \"MMM\";\r\n        }\r\n    }\r\n\r\n    // get third part\r\n    if (date_parts[2] == 2019) {\r\n        third = \"YYYY\";\r\n    } else if (date_parts[2] == 31) {\r\n        third = \"DD\";\r\n    } else {\r\n        if (date_parts[2].length <= 2) {\r\n            third = \"MM\";\r\n        } else {\r\n            third = \"MMM\";\r\n        }\r\n    }\r\n    // assembly\r\n    var format = first + \"/\" + second + \"/\" + third;\r\n    return format;\r\n}\r\n\r\n\r\nfunction getHeader() {\r\n    // return {\r\n    //     'session-token': sessionManager.getDataFromCookies(genericConstants.COOKIES_KEY.SESSION_TOKEN),\r\n    //     'device-id': sessionManager.getDataFromCookies(genericConstants.COOKIES_KEY.DEVICE_ID),\r\n    //     'Content-Type': httpConstants.CONTENT_TYPE.APPLICATION_JSON\r\n    // };\r\n}\r\n\r\nfunction isNumber(n) {\r\n    return !isNaN(parseFloat(n)) && isFinite(n);\r\n}\r\n\r\n//TODO: update apiConstant.API_FAILURE\r\nfunction apiFailureToast(message) {\r\n    toast.error(message ? message : \"apiConstant.API_FAILURE\");\r\n}\r\n\r\nfunction apiSuccessToast(msg) {\r\n    toast.success(msg ? msg : \"apiConstant.API_SUCCESS\");\r\n}\r\n\r\nfunction generateGUID() {\r\n    var nav = window.navigator;\r\n    var screen = window.screen;\r\n    var guid = nav.mimeTypes.length;\r\n    guid += nav.userAgent.replace(/\\D+/g, '');\r\n    guid += nav.plugins.length;\r\n    guid += screen.height || '';\r\n    guid += screen.width || '';\r\n    guid += screen.pixelDepth || '';\r\n    return guid;\r\n}\r\n\r\nfunction basicAlert(message) {\r\n    swal({\r\n        title: message,\r\n        icon: '/images/alert-icon.png',\r\n    })\r\n}\r\n\r\nfunction validationAlert(message, type = 'info') {\r\n    swal({\r\n        title: message,\r\n        icon: type\r\n    })\r\n}\r\n\r\nfunction getTimeDifference(timeStampTo) {\r\n    let minFive = 300000;\r\n    let oneDay = 86400000;\r\n    let difference = \"\";\r\n    let am = \" AM\";\r\n    let pm = \" PM\";\r\n    let hh = epochToDate(timeStampTo, 'hh');\r\n    let mm = epochToDate(timeStampTo, 'mm');\r\n    let dateFormat = epochToDate(timeStampTo, 'DD MMM YYYY');\r\n    let hours = new Date(timeStampTo).getHours();\r\n    let timeDifference = new Date().getTime() - timeStampTo;\r\n    if (timeDifference < oneDay) {\r\n        if (timeDifference < minFive) {\r\n            difference = \"Just Now\";\r\n        } else {\r\n            if (hours < 12)\r\n                difference = \"Today at \" + hh + \":\" + mm + am;\r\n            else\r\n                difference = \"Today at \" + hh + \":\" + mm + pm;\r\n        }\r\n    } else {\r\n        if (hours < 12)\r\n            difference = dateFormat + \", \" + hh + ':' + mm + am;\r\n        else\r\n            difference = dateFormat + \", \" + hh + ':' + mm + pm;\r\n    }\r\n    return difference;\r\n}\r\n\r\nfunction epochToDate(timeStamp, timeFormat) {\r\n    timeStamp = Math.floor(timeStamp);  //to convert to integer if seconds is String.\r\n    let dateObject = new Date(timeStamp);\r\n    return moment(dateObject).format(timeFormat)//DD MMM YYYY\r\n}\r\n\r\n\r\nfunction getTimeFromNow(timeStamp) {\r\n    return moment(timeStamp, \"YYYYMMDD\").fromNow();\r\n}\r\n\r\nfunction dateCompare(timeStampFrom, timeStampTo) {\r\n    let diffTime = (timeStampFrom * 1000 - timeStampTo);\r\n    let diffDays = (diffTime / (1000 * 60 * 60 * 24));\r\n    return diffDays;\r\n}\r\n\r\nfunction getDateAfterOneYear(timeStamp) {\r\n    timeStamp = Math.floor(timeStamp);  //to convert to integer if seconds is String.\r\n    let dateObject = new Date(timeStamp);\r\n    return moment(dateObject).add(1, 'years').valueOf();\r\n}\r\n\r\nfunction getActivityDateEpochRange(activityDate) {\r\n    let currentDate = new Date();\r\n    currentDate.setHours(0, 0, 0, 0);\r\n    let startDayEpochOfCurrentWeek = moment().startOf('isoweek').unix() * 1000;\r\n    let startDayEpochOfCurrentMonth = moment().startOf('month').unix() * 1000;\r\n    let startDayEpochOfCurrentQuarter = moment().startOf('quarter').unix() * 1000;\r\n    let startDayEpochOfCurrentYear = moment().startOf('year').unix() * 1000;\r\n    let endDayEpochOfCurrentWeek = moment().endOf('isoweek').unix() * 1000;\r\n    let endDayEpochOfCurrentMonth = moment().endOf('month').unix() * 1000;\r\n    let endDayEpochOfCurrentQuarter = moment().endOf('quarter').unix() * 1000;\r\n    let endDayEpochOfCurrentYear = moment().endOf('year').unix() * 1000;\r\n    let day, start;\r\n    switch (activityDate) {\r\n        case \"Today\":\r\n            return {start: currentDate.getTime(), end: new Date().getTime()};\r\n        case \"Yesterday\":\r\n            day = new Date(currentDate);\r\n            day.setDate(currentDate.getDate() - 1);\r\n            return {start: day.getTime(), end: currentDate.getTime()};\r\n        case \"Last seven days\":\r\n            day = new Date(currentDate);\r\n            day.setDate(currentDate.getDate() - 7);\r\n            return {start: day.getTime(), end: currentDate.getTime()};\r\n        case \"Last fourteen days\":\r\n            day = new Date(currentDate);\r\n            day.setDate(currentDate.getDate() - 14);\r\n            return {start: day.getTime(), end: currentDate.getTime()};\r\n        case \"Last twenty one days\":\r\n            day = new Date(currentDate);\r\n            day.setDate(currentDate.getDate() - 21);\r\n            return {start: day.getTime(), end: currentDate.getTime()};\r\n        case \"Last Week\":\r\n            start = new Date(startDayEpochOfCurrentWeek);\r\n            start.setDate(start.getDate() - 7);\r\n            return {start: start.getTime(), end: startDayEpochOfCurrentWeek};\r\n        case \"Last two weeks\":\r\n            start = new Date(startDayEpochOfCurrentWeek);\r\n            start.setDate(start.getDate() - 14);\r\n            return {start: start.getTime(), end: startDayEpochOfCurrentWeek};\r\n        case \"Last three weeks\":\r\n            start = new Date(startDayEpochOfCurrentWeek);\r\n            start.setDate(start.getDate() - 21);\r\n            return {start: start.getTime(), end: startDayEpochOfCurrentWeek};\r\n        case \"Last Month\":\r\n            start = new Date(startDayEpochOfCurrentMonth);\r\n            start.setMonth(start.getMonth() - 1);\r\n            return {start: start.getTime(), end: startDayEpochOfCurrentMonth};\r\n        case \"Last Quarter\":\r\n            start = new Date(startDayEpochOfCurrentQuarter);\r\n            start.setMonth(start.getMonth() - 3);\r\n            return {start: start.getTime(), end: startDayEpochOfCurrentQuarter};\r\n        case \"Last Year\":\r\n            console.log(startDayEpochOfCurrentYear)\r\n            start = new Date(startDayEpochOfCurrentYear);\r\n            start.setFullYear(start.getFullYear() - 1);\r\n            return {start: start.getTime(), end: startDayEpochOfCurrentYear};\r\n        case \"This Week\":\r\n            return {start: startDayEpochOfCurrentWeek, end: endDayEpochOfCurrentWeek};\r\n        case \"This Quarter\":\r\n            return {start: startDayEpochOfCurrentQuarter, end: endDayEpochOfCurrentQuarter};\r\n        case \"This Year\":\r\n            return {start: startDayEpochOfCurrentYear, end: endDayEpochOfCurrentYear};\r\n        case \"Current Month\":\r\n            return {start: startDayEpochOfCurrentMonth, end: endDayEpochOfCurrentMonth};\r\n        default:\r\n            return {start: currentDate.getTime(), end: new Date().getTime()};\r\n    }\r\n\r\n}\r\n\r\nfunction getAddress(addressObj) {\r\n    if (!addressObj || !Object.keys(addressObj).length || !(addressObj.addressLine1 || addressObj.poBoxNumber))\r\n        return \"\";\r\n    return (\r\n        <span>\r\n            {addressObj.addressLine1 ? addressObj.addressLine1 : `PO Box ${addressObj.poBoxNumber}`}<br/>\r\n            {addressObj.addressLine2 ? <span>{addressObj.addressLine2}<br/></span> : ''}\r\n            {addressObj.city}, {addressObj.state} {addressObj.zipCode}<br/>\r\n            {addressObj.country}\r\n        </span>\r\n    )\r\n}\r\n\r\nfunction decodeBase64(s) {\r\n    let e = {}, i, b = 0, c, x, l = 0, a, r = '', w = String.fromCharCode, L = s.length;\r\n    let A = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\r\n    for (i = 0; i < 64; i++) {\r\n        e[A.charAt(i)] = i;\r\n    }\r\n    for (x = 0; x < L; x++) {\r\n        c = e[s.charAt(x)];\r\n        b = (b << 6) + c;\r\n        l += 6;\r\n        while (l >= 8) {\r\n            ((a = (b >>> (l -= 8)) & 0xff) || (x < (L - 2))) && (r += w(a));\r\n        }\r\n    }\r\n    return r;\r\n}\r\n\r\nfunction navigateToPath(path) {\r\n    history.push(path)\r\n}\r\n\r\nfunction toggleDropDown(dropdownID) {\r\n    // $(\"#\" + dropdownID).toggle(\"show\");\r\n}\r\n\r\nfunction validateName(name) {\r\n    let reg = /[A-Z][a-zA-Z]*/;\r\n    return reg.test(name)\r\n}\r\n\r\nfunction validateEmail(email) {\r\n    let reg = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return reg.test(email);\r\n}\r\n\r\nfunction isPasswordValid(password) {\r\n    let reg = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/;\r\n    return reg.test(password);\r\n}\r\n\r\nfunction isEmpty(string) {\r\n    return !string || string.trim().length === 0;\r\n}\r\n\r\nfunction isMenuActive(path) {\r\n    return window.location.pathname.includes(path);\r\n}\r\n\r\nfunction getAddedByObject(propsOfComponent) {\r\n    if (!propsOfComponent || !propsOfComponent.user || !propsOfComponent.user.userDetails)\r\n        return null;\r\n    let user = propsOfComponent.user.userDetails;\r\n    return {\r\n        privateKey: user.privateKey,\r\n        publicKey: user.publicKey,\r\n        email: user.email,\r\n        wercPlaceID: user.wercPlaceID,\r\n        photo: user.photo ? user.photo : '',\r\n        designation: user.designation ? user.designation : {},\r\n        department: user.department ? user.department : {},\r\n        name: (user.firstName || user.lastName) ? (user.firstName + \" \" + user.lastName) : (user.company && user.company.name ? user.company.name : \"\"),\r\n        _id: user._id\r\n    };\r\n}\r\n\r\nfunction getMiniUserModel(user) {\r\n    if (!user)\r\n        return null;\r\n    return {\r\n        privateKey: user.privateKey,\r\n        publicKey: user.publicKey,\r\n        photo: user.photo ? user.photo : '',\r\n        email: user.email,\r\n        wercPlaceID: user.wercPlaceID,\r\n        designation: user.designation ? user.designation : {},\r\n        department: user.department ? user.department : {},\r\n        name: (user.firstName || user.lastName) ? (user.firstName + \" \" + user.lastName) : user.company.name,\r\n        _id: user._id\r\n    };\r\n}\r\n\r\nfunction getMiniRecognitionUserModel(recognizeUser) {\r\n    if (!recognizeUser)\r\n        return null;\r\n    return {\r\n        name: recognizeUser.name,\r\n        clapWeight: recognizeUser.clapWeight,\r\n        _id: recognizeUser._id\r\n    };\r\n}\r\n\r\n\r\nfunction getMiniAwardNominationModel(nomination) {\r\n    if (!nomination)\r\n        return null;\r\n    return {\r\n        name: nomination.name,\r\n        photo: nomination.photo,\r\n        _id: nomination._id\r\n    };\r\n}\r\n\r\n\r\nfunction generateRandomAlphaNumericString(length) {\r\n    var randomAlphaNumericString = \"\";\r\n    var charset = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\";\r\n    for (var i = 0; i < length; i++)\r\n        randomAlphaNumericString += charset.charAt(Math.floor(Math.random() * charset.length));\r\n    return randomAlphaNumericString;\r\n}\r\n\r\nfunction generateCompanyLogoKey() {\r\n    var currentTimeStamp = (new Date().getTime()).toString();\r\n    return currentTimeStamp + \"_\" + generateRandomAlphaNumericString(13);\r\n}\r\n\r\nfunction uploadFileToS3(fileObject, fileName, mimeType, isPublic = false) {\r\n    let config = {\r\n        accessKeyId: process.env.REACT_APP_AWS_ACCESS_KEY,\r\n        secretAccessKey: process.env.REACT_APP_AWS_SECRET_KEY\r\n    }\r\n    aws.config.update(config);\r\n    console.log(\"config\", config);\r\n    console.log(\"fileObject\", fileObject);\r\n    const S3 = new aws.S3();\r\n    const params = {\r\n        Body: fileObject,\r\n        Bucket: process.env.REACT_APP_AWS_S3_BUCKET_NAME,\r\n        ContentType: mimeType,\r\n        Key: fileName\r\n    };\r\n    if (isPublic)\r\n        params.ACL = 'public-read';\r\n\r\n    return new Promise(function (resolve, reject) {\r\n        S3.upload(params, function (err, uploadData) {\r\n            if (err)\r\n                reject(err);\r\n            resolve(uploadData);\r\n        });\r\n    });\r\n}\r\n\r\nfunction getSignedUrl(fileName) {\r\n    if (!fileName)\r\n        return \"\";\r\n    aws.config.update({\r\n        accessKeyId: process.env.REACT_APP_AWS_ACCESS_KEY,\r\n        secretAccessKey: process.env.REACT_APP_AWS_SECRET_KEY\r\n    });\r\n    aws.config.region = process.env.REACT_APP_AWS_S3_BUCKET_REGION;\r\n    const s3 = new aws.S3();\r\n    const params = {\r\n        Bucket: process.env.REACT_APP_AWS_S3_BUCKET_NAME,\r\n        Key: fileName ? fileName : '',\r\n        Expires: 600000,\r\n    };\r\n    let signedUrl = s3.getSignedUrl('getObject', params);\r\n    return signedUrl;\r\n}\r\n\r\nfunction showUnderDevelopment() {\r\n    basicAlert(\"Under Development\")\r\n}\r\n\r\nfunction getCompanyObject(propsOfComponent) {\r\n    if (!propsOfComponent || !propsOfComponent.user || !propsOfComponent.user.userDetails || !propsOfComponent.user.userDetails.company)\r\n        return null;\r\n    return propsOfComponent.user.userDetails.company;\r\n}\r\n\r\nfunction isCompanyBalanceLow(company) {\r\n    if (!company || !company.tokenEconomy || !company.tokenEconomy) {\r\n        console.log('return false')\r\n        return false;\r\n    }\r\n    let remainingMonth = (new Date(company.tokenEconomy.endDate)).getMonth() - (new Date()).getMonth() +\r\n        (12 * ((new Date(company.tokenEconomy.endDate)).getFullYear() - (new Date()).getFullYear()));\r\n    if (company.tokenEconomy.PERCBalance < (company.tokenEconomy.monthlyPERCAllocation * remainingMonth))\r\n        return true;\r\n    return false;\r\n}\r\n\r\nfunction getYearsList(addedOn = new Date().getTime()) {\r\n    let durationList = [];\r\n    for (let i = new Date(addedOn).getFullYear(); i <= new Date().getFullYear(); i++) {\r\n        durationList.push(i)\r\n    }\r\n    return durationList;\r\n}\r\n\r\nfunction epocToPrettyTime(seconds) {\r\n    seconds = Math.floor(seconds);//to convert to integer if seconds is String.\r\n    var nowTimeMilliseconds = (new Date).getTime();\r\n    var date = new Date(seconds);\r\n    var dateObject = moment(date).format('DD MMMM YYYY');\r\n    //var dateObject = moment(date).format('ddd, MMM DD hh:mm A');\r\n    seconds = Math.floor((nowTimeMilliseconds / 1000) - (seconds / 1000));\r\n    var interval = Math.floor(seconds / 172800);\r\n    if (interval >= 1)\r\n        return dateObject;\r\n    //if (interval >= 1) return dateObject+\" \"+moment.tz(moment.tz.guess()).format('z');\r\n    interval = Math.floor(seconds / 86400);\r\n    if (interval >= 1)\r\n        return \"yesterday\";\r\n\r\n    interval = Math.floor(seconds / 3600);\r\n    if (interval >= 1) {\r\n        if (interval === 1)\r\n            return interval + \" hr ago\";\r\n        return interval + \" hrs ago\";\r\n    }\r\n    interval = Math.floor(seconds / 60);\r\n    if (interval >= 1) {\r\n        if (interval === 1)\r\n            return interval + \" minute ago\";\r\n        return interval + \" minutes ago\";\r\n    } else\r\n        return \"Just now\";\r\n}\r\n\r\nfunction epocToPrettyTimeForFuture(seconds) {\r\n    seconds = Math.floor(seconds);//to convert to integer if seconds is String.\r\n    var nowTimeMilliseconds = (new Date).getTime();\r\n    var date = new Date(seconds);\r\n    var dateObject = moment(date).format('DD MMMM YYYY');\r\n    //var dateObject = moment(date).format('ddd, MMM DD hh:mm A');\r\n    seconds = Math.floor((seconds / 1000) - (nowTimeMilliseconds / 1000));\r\n    var interval = Math.floor(seconds / 86400);\r\n    if (interval >= 1)\r\n        return interval + ' days';\r\n\r\n    interval = Math.floor(seconds / 3600);\r\n    if (interval >= 1) {\r\n        if (interval == 1)\r\n            return interval + \" hr\";\r\n        return interval + \" hrs\";\r\n    }\r\n    interval = Math.floor(seconds / 60);\r\n    if (interval >= 1) {\r\n        if (interval == 1)\r\n            return interval + \" minute\";\r\n        return interval + \" minutes\";\r\n    } else\r\n        return \"0 minute\";\r\n}\r\n\r\n\r\nfunction getLeaderBoardAggregatedQuery(propsOfComponent, skip = 0, limit = 0, matchObj = {}) {\r\n    if (!propsOfComponent || !propsOfComponent.user || !propsOfComponent.user.userDetails || !propsOfComponent.user.userDetails.company)\r\n        return null;\r\n    let queryObj = [];\r\n\r\n    //Match Object for the conditions-\r\n    let feedType = [];\r\n    feedType.push({'entityData.feedType': 'ADD_RECOGNITION'});\r\n    feedType.push({'entityData.feedType': 'ADD_NOMINATION'});\r\n    matchObj['$or'] = feedType;\r\n    matchObj['entityData.company.id'] = propsOfComponent.user.userDetails.company.id;\r\n\r\n    //addField Object for the conditions-\r\n    let addFieldObj = {\r\n        'recipient': {\r\n            '$arrayToObject': {\r\n                '$map': {\r\n                    'input': '$entityData.recipients',\r\n                    'as': 'recipients',\r\n                    'in': {'k': 'userDetails', 'v': '$$recipients'}\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    //Group object for grouping-\r\n    let groupObj = {};\r\n    groupObj._id = \"$entityData.recipients._id\";\r\n    groupObj.PERCBalance = {\"$sum\": \"$entityData.PERCValue\"};\r\n    groupObj.firstName = {\"$first\": \"$entityData.recipients.name\"};\r\n\r\n    queryObj.push({\"$match\": matchObj});\r\n    // queryObj.push({\"$addFields\": addFieldObj});\r\n    queryObj.push({\"$group\": groupObj});\r\n    queryObj.push({\"$sort\": {'PERCBalance': -1}});\r\n    queryObj.push({\"$limit\": limit});\r\n    queryObj.push({\"$skip\": skip});\r\n\r\n    return queryObj;\r\n}\r\n\r\nfunction getTopSenderAggregatedQuery(propsOfComponent, skip = 0, limit = 0, matchObj = {}) {\r\n    if (!propsOfComponent || !propsOfComponent.user || !propsOfComponent.user.userDetails || !propsOfComponent.user.userDetails.company)\r\n        return null;\r\n    let queryObj = [];\r\n\r\n    //Match Object for the conditions-\r\n    let feedType = [];\r\n    feedType.push({'entityData.feedType': 'ADD_RECOGNITION'});\r\n    feedType.push({'entityData.feedType': 'ADD_NOMINATION'});\r\n    matchObj['$or'] = feedType;\r\n    matchObj['entityData.company.id'] = propsOfComponent.user.userDetails.company.id;\r\n\r\n    //Group object for grouping-\r\n    let groupObj = {};\r\n    groupObj._id = \"$entityData.addedBy.email\";\r\n    groupObj.PERCBalance = {\"$sum\": \"$entityData.PERCValue\"};\r\n    groupObj.firstName = {\"$first\": \"$entityData.addedBy.name\"};\r\n\r\n    //Group object for grouping-\r\n    let sortObj = {};\r\n    sortObj._id = \"$recipient.userDetails.email\";\r\n\r\n    queryObj.push({\"$match\": matchObj});\r\n    queryObj.push({\"$group\": groupObj});\r\n\r\n    // queryObj.push({\"$sort\": {'PERCBalance':-1}});\r\n\r\n    queryObj.push({\"$limit\": limit});\r\n    queryObj.push({\"$skip\": skip});\r\n    queryObj.push({\"$sort\": {'PERCBalance': -1}});\r\n\r\n    return queryObj;\r\n}\r\n\r\nfunction secondsToTime(milliseconds) {\r\n    let date = new Date(milliseconds)\r\n    var duration = moment.duration(milliseconds, 'milliseconds');\r\n    return (duration.hours() + \":\" + duration.minutes() + \":\" + duration.seconds())\r\n    let dateObject = moment(date, 'hh:mm:ss').fromNow();\r\n    return dateObject\r\n\r\n    // let hours = Math.floor(secs / (60 * 60));\r\n    //\r\n    // let divisor_for_minutes = secs % (60 * 60);\r\n    // let minutes = Math.floor(divisor_for_minutes / 60);\r\n    //\r\n    // let divisor_for_seconds = divisor_for_minutes % 60;\r\n    // let seconds = Math.ceil(divisor_for_seconds);\r\n    //\r\n    // let obj = {\r\n    //     \"h\": hours,\r\n    //     \"m\": minutes,\r\n    //     \"s\": seconds\r\n    // };\r\n    // return obj;\r\n}\r\n\r\nfunction getTimestampFromDate(year, month, date = 0) {\r\n    let days = new Date(year, month, date).getDate();\r\n    return new Date(year + \"/\" + month + \"/\" + days).getTime();\r\n\r\n}\r\n\r\nfunction extractDate(date, getType) {\r\n    console.log(\"date\", typeof date, \"getType\", getType);\r\n    switch (getType) {\r\n        case \"DAY\":\r\n            return new Date(date.toString()).getDate();\r\n            break;\r\n        case \"MONTH\":\r\n            return new Date(date.toString()).getMonth() + 1;\r\n            break;\r\n        case \"YEAR\":\r\n            return new Date(date.toString()).getFullYear();\r\n            break;\r\n        default :\r\n            return date;\r\n    }\r\n\r\n}\r\n\r\nfunction changeDateFormat(date, newFormat) {\r\n    let currentFormat = getDateFormat()\r\n    return moment(date, currentFormat).format(newFormat)\r\n}\r\n\r\nfunction getAggregatedPercWercQueryObject(start, end, skip, id) {\r\n    console.log(start, end, skip, id);\r\n    return [\r\n        {\r\n            \"$match\": {\r\n                \"$and\": [\r\n                    {\r\n                        \"date\": {\r\n                            \"$gte\": start.toString()\r\n                        }\r\n                    },\r\n                    {\r\n                        \"date\": {\r\n                            \"$lte\": end.toString()\r\n                        }\r\n                    }\r\n                ],\r\n                \"companyId\": id.toString()\r\n            }\r\n\r\n        },\r\n        {\r\n            \"$skip\": skip\r\n        }\r\n    ];\r\n}\r\n"]},"metadata":{},"sourceType":"module"}